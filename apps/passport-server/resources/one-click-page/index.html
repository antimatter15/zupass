<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.cdnfonts.com/css/super-funky" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@800&family=Rubik:wght@300..900&display=swap"
    rel="stylesheet" />
</head>
<style>
  /* resets */
  * {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    box-sizing: border-box;
  }

  html {
    --white: #fff;
    --text-title: #9a4ac9;
    --text-primary: #1e2c50;
    --bg-white-transparent: rgba(255, 255, 255, 0.80);
    --text-tertiary: #8B94AC;
    --core-accent: #01685C;

    overflow: hidden;
    height: 100dvh;
  }

  body {
    overflow: auto;
    height: 100%;

    @media (max-width: 420px) {
      background-color: #00785e;
    }

    display: flex;
    flex-direction: column;

  }

  .container {
    margin: auto;
    flex: 1;
    width: 100%;
    display: flex;
    flex-direction: column;
    max-width: 420px;
    padding: 0 20px;
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%),
    url("{{{backgroundImage}}}") lightgray 50% / cover no-repeat;
  }

  .ticket {
    display: flex;
    padding: 16px 16px 0px 16px;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;
    border-radius: 16px;
    background: var(--white);

    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);
    gap: 16px;
  }

  .ticket__qr-code {
    width: 100%;
    height: 100%;
  }

  .ticket__text-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
  }

  .ticket__title {
    color: var(--text-title);
    text-align: center;
    font-family: "Barlow", sans-serif;
    font-weight: 800;
    font-style: normal;

    /* text-xl (20px)/extrabold */
    font-size: 20px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 27px */
  }

  .ticket__addons-btn {
    width: 100%;
    background: none;
    border: none;
    padding: 16px 0;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: flex-start;
  }

  .ticket__subtitle--text {
    color: var(--text-primary);
    text-align: center;

    /* text-sm (14px)/regular-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 135%;
    /* 18.9px */
  }

  .ticket__subtitle--container {
    display: flex;
    flex-direction: row;
    gap: 4px;
    /* justify-content: center; */
  }

  .header {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-bottom: 26px;
  }

  .header__title {
    color: var(--white);
    text-align: center;
    font-family: Barlow;
    font-size: 28px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 37.8px */
  }

  .header__subtitle {
    color: #c0d1ff;
    text-align: center;
    font-family: Rubik;
    font-size: 18px;
    font-style: normal;
    font-weight: 300;
    line-height: 135%;
    /* 24.3px */
  }

  .cta {
    border-radius: 24px;
    border: 2px solid #ffc971;
    background: linear-gradient(0deg, #ffae00 0%, #4cccb0 100%);
    height: 76px;
    width: 100%;
    color: #000;
    /* Fallback for older browsers */
    color: rgba(0, 0, 0, 0.5);
    text-align: center;
    font-family: "Super Funky";
    font-size: 28px;
    font-style: normal;
    font-weight: 400;
    cursor: pointer;
  }

  .cta__container {
    border-radius: 24px;
    background: #ad844f;
    padding-bottom: 8px;
    width: 350px;
    height: 82px;
    flex-shrink: 0;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 45px;
  }

  .modal__overlay--disabled {
    display: none !important;
  }

  .modal__overlay {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    overflow-x: hidden;
    overflow-y: hidden;
    backdrop-filter: blur(4px);
    z-index: 9999;
    padding: 0px 12px 12px 12px;
    display: flex;
    align-items: end;
  }

  .modal__container {
    background: #ffffff;
    border-radius: 40px;
    margin-top: 12px;
    bottom: 12px;
    box-shadow: 0px 4px 6px -1px #0000001a;
    margin: 0 auto;
    width: 100%;
    max-width: 420px;
    max-height: 100%;
    padding: 20px;
    -ms-overflow-style: none;
    /* Internet Explorer 10+ */
    scrollbar-width: none;
    /* Firefox */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .modal__container::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }

  .modal__qr {
    width: 265px;
    height: 265px;
  }

  .modal__qr--text {
    color: var(--text-primary);
    text-align: center;
    /* text-lg (18px)/text-base (16px)/medium-rubik */
    font-family: Rubik;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 21.6px */
  }

  .modal__qr--image {
    max-width: inherit;
    max-height: inherit;
    height: inherit;
    width: inherit;
    object-fit: cover;
  }

  .modal__qr--container {
    display: flex;
    flex-direction: column;
    padding: 12px;
    gap: 12px;
    align-items: center;
    border: 1px solid #e5dfdf;
    border-radius: 8px;
  }

  .page-header {
    padding: 25px 0 25px 0;
    width: 100%;
    max-width: 420px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid #1d8289;
    background: linear-gradient;
  }

  .swiper-container {
    width: 290px;
    margin: 0 auto;
    overflow: hidden;
  }

  .swiper__navigation--text {
    color: var(--text-tertiary);
    text-align: center;

    /* text-sm (14px)/medium-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 18.9px */
  }

  .swiper__navigation--container {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .swiper__navigation--btn-disabled {
    opacity: 0.4;
    pointer-events: none;
  }

  .swiper__navigation--btn {
    display: flex;
    width: 40px;
    height: 32px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    border-radius: 200px;
    border: 2px solid #FFF;
    background: var(--bg-white-transparent);

    /* shadow */
    box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.10), 0px 1px 2px 0px rgba(0, 0, 0, 0.06);
  }

  .btn__container--primary {
    display: flex;
    height: 54px;
    padding: 8px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    align-self: stretch;
    border-radius: 200px;
    background: var(--core-accent);
    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);

  }

  .btn__text--primary {
    color: var(--white);
    text-align: center;

    /* text-lg (18px)/medium-rubik */
    font-family: Rubik;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 24.3px */
  }

  _
</style>

<body>
  <div class="page-header" id="page-header">
    <svg xmlns="http://www.w3.org/2000/svg" width="118" height="21" viewBox="0 0 118 21" fil="none">
      <path
        d="M0.587402 17.6774L13.949 2.65875H1.20393V0.406738H17.4772V2.49193L4.22441 17.4011H18.1248L17.7466 19.6531H0.587402V17.6722V17.6774Z"
        fill="#FFD6A0" />
      <path
        d="M23.5906 0.406738V11.3332C23.5906 16.4002 26.5541 17.7868 29.4347 17.7868C32.9629 17.7868 35.0663 16.1083 35.0663 11.3332V0.406738H37.7604V11.3019C37.7604 17.5627 34.5275 20.0597 29.3569 20.0597C24.1864 20.0597 20.8965 17.5106 20.8965 11.5208V0.406738H23.5906Z"
        fill="#FFD6A0" />
      <path
        d="M43.1799 0.406738H52.1792C56.9197 0.406738 59.1009 2.87248 59.1009 6.07326C59.1009 9.84225 56.5156 11.9535 52.2569 11.9535H45.8999V19.6531H43.1799V0.406738ZM45.8999 9.65458H51.8787C54.521 9.65458 56.3498 8.89349 56.3498 6.10454C56.3498 3.93593 54.894 2.69003 51.8787 2.69003H45.8999V9.65458Z"
        fill="#FFD6A0" />
      <path
        d="M63.8673 13.825L61.3908 19.6531H58.5879L66.8048 0.406738H70.0895L78.6588 19.6531H75.6953L73.1359 13.825H63.8673ZM72.25 11.4948C69.9082 6.18273 68.7995 3.65964 68.3695 2.36161H68.3436C67.9395 3.60751 66.6442 6.91776 64.7066 11.4948H72.25Z"
        fill="#FFD6A0" />
      <path
        d="M83.2646 14.0438C83.964 16.3219 85.6064 17.891 89.3522 17.891C93.098 17.891 94.5797 16.4261 94.5797 14.6381C94.5797 12.7405 93.528 11.5728 88.5698 10.7335C82.8294 9.75872 81.4564 7.93938 81.4564 5.31204C81.4564 1.92359 84.6375 0 88.8134 0C95.0356 0 96.4915 3.27897 96.7091 5.23384H93.9891C93.585 3.90453 92.7768 2.1686 88.7356 2.1686C85.9897 2.1686 84.2075 3.11737 84.2075 5.04096C84.2075 6.61528 84.9898 7.61618 89.3522 8.346C96.248 9.53977 97.3515 11.6823 97.3515 14.3618C97.3515 17.427 94.9268 20.0544 89.1605 20.0544C83.8241 20.0544 81.13 17.5886 80.4824 14.0386H83.2594L83.2646 14.0438Z"
        fill="#FFD6A0" />
      <path
        d="M102.932 14.0438C103.631 16.3219 105.273 17.891 109.019 17.891C112.765 17.891 114.247 16.4261 114.247 14.6381C114.247 12.7405 113.195 11.5728 108.237 10.7335C102.496 9.75872 101.123 7.93938 101.123 5.31204C101.123 1.92359 104.304 0 108.48 0C114.703 0 116.158 3.27897 116.376 5.23384H113.656C113.252 3.90453 112.444 2.1686 108.403 2.1686C105.657 2.1686 103.874 3.11737 103.874 5.04096C103.874 6.61528 104.657 7.61618 109.019 8.346C115.915 9.53977 117.018 11.6823 117.018 14.3618C117.018 17.427 114.594 20.0544 108.827 20.0544C103.491 20.0544 100.797 17.5886 100.155 14.0386H102.932V14.0438Z"
        fill="#FFD6A0" />
    </svg>
  </div>
  <main class="container" onscroll="test">
    <div class="header">
      <span class="header__title">{{eventName}}</span>
      <div class="ticket__subtitle--container">
        <span class="header__subtitle">{{eventLocation}}</span>
        <span class="header__subtitle">·</span>
        {{#isMoreThanOne}}
        <span class="header__subtitle">{{count}} Tickets</span>
        {{/isMoreThanOne}} {{^isMoreThanOne}}
        <span class="header__subtitle">1 Ticket</span>
        {{/isMoreThanOne}}
      </div>
      <div class="cta__container"><button onclick="redirectToZupass()" class="cta">FROGCRYPTO</button></div>
      <div class="ticket">
        <img class="ticket__qr-code" src="{{qr}}" />
        <div class="ticket__text-container">
          <span class="ticket__title">{{attendeeName}}</span>
          <div class="ticket__subtitle--container">
            <span class="ticket__subtitle--text">{{attendeeEmail}}</span>
            <span class="ticket__subtitle--text">·</span>
            <span class="ticket__subtitle--text">{{ticketName}}</span>
          </div>
        </div>
        {{#addonsCount}}
        <button id="addons-btn" type="button" class="ticket__addons-btn">
          <span class="ticket__subtitle--text" style="font-size: 16px;">view {{addonsCount}} addons</span>
        </button>
        {{/addonsCount}}
        {{^addonsCount}}
        <!-- spacer when we dont have any addon -->
        <div style="height:16px;" />
        {{/addonsCount}}
      </div>
    </div>
  </main>
  <!-- Tiny-Swiper -->
  <div id="modal-overlay" class="modal__overlay modal__overlay--disabled">
    <div id="modal" class="modal__container">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          {{#addons}}
          <div class="swiper-slide">
            <div class="modal__qr--container">
              <div class="modal__qr">
                <img class="modal__qr--image" src="{{image}}" />
              </div>
              <span class="modal__qr--text">{{name}}</span>
            </div>
          </div>
          {{/addons}}
        </div>
      </div>
      <div class="swiper__navigation--container">
        <button id="back" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z"
              clip-rule="evenodd" />
          </svg>
        </button>
        <span class="swiper__navigation--text"><span id="current-item-text">1</span> of {{addonsCount}}</span>
        <button id="next" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      <button type="button" id="close" class="btn__container--primary"><span
          class="btn__text--primary">Close</span></button>
    </div>
  </div>
  </div>
  <!-- Tiny-Swiper JS -->
  <script src="https://unpkg.com/tiny-swiper@latest/lib/index.min.js"></script>
  <script src="https://unpkg.com/tiny-swiper@latest/lib/modules/navigation.min.js"></script>

  <script>
    const modal = document.getElementById("modal");
    const overlay = document.getElementById("modal-overlay");
    const closeBtn = document.getElementById("close");
    const addonsBtn = document.getElementById("addons-btn");
    const nextBtn = document.getElementById("next");
    const backBtn = document.getElementById("back");
    const currentIdxText = document.getElementById("current-item-text");

    const path = window.location.pathname;
    const oneClickMatch = path.match(/\/one-click-preview.*/);
    const newPath = oneClickMatch ? oneClickMatch[0] : "";

    function joinPaths(...parts) {
      return parts
        .map((part) => part.replace(/^\/+|\/+$/g, "")) // Remove leading/trailing slashes
        .filter((part) => part.length > 0) // Remove empty segments
        .join("/");
    }

    function redirectToZupass() {
      window.location.replace(clientPath);
    }

    const clientPath = joinPaths("{{{zupassUrl}}}", "#", newPath);



    modal.onclick = function (e) {
      e.stopPropagation()
    }

    overlay.onclick = function () {
      overlay.classList.add("modal__overlay--disabled");
    }

    closeBtn.onclick = function () {
      overlay.classList.add("modal__overlay--disabled");
    }
    addonsBtn.onclick = function () {
      overlay.classList.remove("modal__overlay--disabled");
      const swiper = new Swiper(".swiper-container", {
        spaceBetween: 12,
        navigation: {
          prevEl: backBtn,
          nextEl: nextBtn,
          disabledClass: "swiper__navigation--btn-disabled"
        },
        plugins: [SwiperPluginNavigation]
      });
      swiper.on("after-slide", function (newIdx, state) {
        currentIdxText.innerText = newIdx + 1;
      })
    }


  </script>
</body>

</html>
