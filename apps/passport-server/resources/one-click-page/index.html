<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Barlow:wght@800&family=Fragment+Mono&family=IBM+Plex+Sans&family=Rubik:wght@300..900&display=swap"
    rel="stylesheet">
</head>
<style>
  /* resets */
  * {
    margin: 0;
    padding: 0;
    border: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    box-sizing: border-box;
  }

  html {
    --white: #fff;
    --text-title: #9a4ac9;
    --text-primary: #1e2c50;
    --bg-white-transparent: rgba(255, 255, 255, 0.80);
    --text-tertiary: #8B94AC;
    --frogcrypto: #17A34A;
    --core-accent: #01685C;
    --max-width: 460px;
    overflow: hidden;
    height: 100dvh;
  }

  body {
    overflow: auto;
    height: 100%;

    @media (max-width: 460px) {
      background: #00785e;
    }


    display: flex;
    flex-direction: column;

  }

  .container {
    margin: auto;
    flex: 1;
    width: 100%;
    display: flex;
    flex-direction: column;
    max-width: var(--max-width);
    padding: 0 20px;
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.5) 100%),
    url("{{{backgroundImage}}}") lightgray 50% / cover no-repeat;
  }

  .ticket {
    display: flex;
    padding: 16px 16px 0px 16px;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;
    align-self: stretch;
    border-radius: 16px;
    background: var(--white);

    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);
    gap: 16px;
  }

  .ticket__qr-code {
    width: 100%;
    height: 100%;
  }

  .ticket__text-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
  }

  .ticket__title {
    color: var(--text-title);
    text-align: center;
    font-family: "Barlow", sans-serif;
    font-weight: 800;
    font-style: normal;

    /* text-xl (20px)/extrabold */
    font-size: 20px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 27px */
  }

  .ticket__addons-btn {
    width: 100%;
    background: none;
    border: none;
    padding: 16px 0;
    border-top: 1px solid #eee;
    display: flex;
    justify-content: space-between;
    cursor: pointer;
  }

  .ticket__subtitle--text {
    color: var(--text-primary);
    text-align: center;

    /* text-sm (14px)/regular-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 135%;
    /* 18.9px */
  }

  .ticket__subtitle--container {
    display: flex;
    flex-direction: row;
    gap: 4px;
    /* justify-content: center; */
  }

  .header {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-bottom: 26px;
  }

  .header__title {
    color: var(--white);
    text-align: center;
    font-family: Barlow;
    font-size: 28px;
    font-style: normal;
    font-weight: 800;
    line-height: 135%;
    /* 37.8px */
  }

  .header__subtitle {
    color: #c0d1ff;
    text-align: center;
    font-family: Rubik;
    font-size: 18px;
    font-style: normal;
    font-weight: 300;
    line-height: 135%;
    /* 24.3px */
  }

  .cta {
    border-radius: 8px;
    border: 2px solid #FFC971;
    background: linear-gradient(0deg, #FFAE00 0%, #4CCCB0 100%);
    height: 76px;
    width: 100%;
    color: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    /* Fallback for older browsers */
    color: #154133;
    text-align: center;
    font-family: "Fragment Mono";
    font-size: 28px;
    font-style: normal;
    font-weight: 400;
    cursor: pointer;
  }

  .cta__container {
    border-radius: 24px;
    background: #ad844f;
    padding-bottom: 8px;
    width: 350px;
    height: 82px;
    flex-shrink: 0;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 45px;
  }

  .modal__overlay--disabled {
    display: none !important;
  }

  .modal__overlay {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    overflow-x: hidden;
    overflow-y: hidden;
    backdrop-filter: blur(4px);
    z-index: 9999;
    padding: 0px 12px 12px 12px;
    display: flex;
    align-items: end;
  }

  .modal__container {
    background: #ffffff;
    border-radius: 40px;
    box-shadow: 0px 4px 6px -1px #0000001a;
    width: 100%;
    max-width: var(--max-width);
    max-height: 100%;
    padding: 20px;
    margin: 0 auto;
    -ms-overflow-style: none;
    /* Internet Explorer 10+ */
    scrollbar-width: none;
    /* Firefox */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .modal__container--hide {
    display: none !important;
  }

  .modal__container--center {
    margin: auto;
  }

  .modal__container::-webkit-scrollbar {
    display: none;
    /* Safari and Chrome */
  }

  .modal__qr {
    width: 265px;
    height: 265px;
  }

  .modal__qr--text {
    color: var(--text-primary);
    text-align: center;
    /* text-lg (18px)/text-base (16px)/medium-rubik */
    font-family: Rubik;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 21.6px */
  }

  .modal__qr--image {
    max-width: inherit;
    max-height: inherit;
    height: inherit;
    width: inherit;
    object-fit: cover;
  }

  .modal__qr--container {
    display: flex;
    flex-direction: column;
    padding: 12px;
    gap: 12px;
    align-items: center;
    border: 1px solid #e5dfdf;
    border-radius: 8px;
  }

  .page-header {
    padding: 25px 0 25px 0;
    width: 100%;
    max-width: var(--max-width);
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    border-bottom: 1px solid #1d8289;
    background: linear-gradient(0deg, #00605C 0%, #00785E 100%);
    ;
  }

  .swiper-container {
    width: 290px;
    margin: 0 auto;
    overflow: hidden;
    cursor: grab;
  }

  .swiper__navigation--text {
    color: var(--text-tertiary);
    text-align: center;

    /* text-sm (14px)/medium-rubik */
    font-family: Rubik;
    font-size: 14px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 18.9px */
  }

  .swiper__navigation--container {
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .swiper__navigation--btn-disabled {
    opacity: 0.4;
    pointer-events: none;
  }

  .swiper__navigation--btn {
    display: flex;
    width: 40px;
    height: 32px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    border-radius: 200px;
    border: 2px solid #FFF;
    background: var(--bg-white-transparent);
    cursor: pointer;

    /* shadow */
    box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.10), 0px 1px 2px 0px rgba(0, 0, 0, 0.06);
  }

  .btn__container--primary {
    cursor: pointer;
    display: flex;
    height: 54px;
    padding: 8px;
    justify-content: center;
    align-items: center;
    gap: 10px;
    align-self: stretch;
    border-radius: 200px;
    background: var(--core-accent);
    /* shadow-sm */
    box-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.05);

  }

  .btn__text--primary {
    color: var(--white);
    text-align: center;

    /* text-lg (18px)/medium-rubik */
    font-family: Rubik;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: 135%;
    /* 24.3px */
  }

  .time__modal--container {
    height: 230px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .time-modal__btn--frogcrypto {
    border-radius: 4px;
    background: #17A34A;
    width: 180px;
    height: 40px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    cursor: pointer;
  }

  .time-modal__text {
    color: #242E24;
    font-family: "IBM Plex Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    letter-spacing: 0.36px;
  }

  .time-modal__text--frogcrypto {
    color: var(--frogcrypto);
    text-align: center;
    font-family: "IBM Plex Sans";
    font-size: 18px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    /* 25.2px */
    letter-spacing: 0.36px;
  }

  .time-modal__text--time {
    background: linear-gradient(90deg, #FF8585 28.44%, #B4BD51 41.87%, #5CEB8E 55.83%, #4B6EE2 66.68%, #DD4BE2 78.56%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-family: "IBM Plex Sans";
    font-size: 32px;
    font-style: normal;
    font-weight: 400;
    line-height: 140%;
    letter-spacing: 0.64px;
  }
</style>

<body>
  <div class="page-header" id="page-header">
    <svg xmlns="http://www.w3.org/2000/svg" width="118" height="21" viewBox="0 0 118 21" fil="none">
      <path
        d="M0.587402 17.6774L13.949 2.65875H1.20393V0.406738H17.4772V2.49193L4.22441 17.4011H18.1248L17.7466 19.6531H0.587402V17.6722V17.6774Z"
        fill="#FFD6A0" />
      <path
        d="M23.5906 0.406738V11.3332C23.5906 16.4002 26.5541 17.7868 29.4347 17.7868C32.9629 17.7868 35.0663 16.1083 35.0663 11.3332V0.406738H37.7604V11.3019C37.7604 17.5627 34.5275 20.0597 29.3569 20.0597C24.1864 20.0597 20.8965 17.5106 20.8965 11.5208V0.406738H23.5906Z"
        fill="#FFD6A0" />
      <path
        d="M43.1799 0.406738H52.1792C56.9197 0.406738 59.1009 2.87248 59.1009 6.07326C59.1009 9.84225 56.5156 11.9535 52.2569 11.9535H45.8999V19.6531H43.1799V0.406738ZM45.8999 9.65458H51.8787C54.521 9.65458 56.3498 8.89349 56.3498 6.10454C56.3498 3.93593 54.894 2.69003 51.8787 2.69003H45.8999V9.65458Z"
        fill="#FFD6A0" />
      <path
        d="M63.8673 13.825L61.3908 19.6531H58.5879L66.8048 0.406738H70.0895L78.6588 19.6531H75.6953L73.1359 13.825H63.8673ZM72.25 11.4948C69.9082 6.18273 68.7995 3.65964 68.3695 2.36161H68.3436C67.9395 3.60751 66.6442 6.91776 64.7066 11.4948H72.25Z"
        fill="#FFD6A0" />
      <path
        d="M83.2646 14.0438C83.964 16.3219 85.6064 17.891 89.3522 17.891C93.098 17.891 94.5797 16.4261 94.5797 14.6381C94.5797 12.7405 93.528 11.5728 88.5698 10.7335C82.8294 9.75872 81.4564 7.93938 81.4564 5.31204C81.4564 1.92359 84.6375 0 88.8134 0C95.0356 0 96.4915 3.27897 96.7091 5.23384H93.9891C93.585 3.90453 92.7768 2.1686 88.7356 2.1686C85.9897 2.1686 84.2075 3.11737 84.2075 5.04096C84.2075 6.61528 84.9898 7.61618 89.3522 8.346C96.248 9.53977 97.3515 11.6823 97.3515 14.3618C97.3515 17.427 94.9268 20.0544 89.1605 20.0544C83.8241 20.0544 81.13 17.5886 80.4824 14.0386H83.2594L83.2646 14.0438Z"
        fill="#FFD6A0" />
      <path
        d="M102.932 14.0438C103.631 16.3219 105.273 17.891 109.019 17.891C112.765 17.891 114.247 16.4261 114.247 14.6381C114.247 12.7405 113.195 11.5728 108.237 10.7335C102.496 9.75872 101.123 7.93938 101.123 5.31204C101.123 1.92359 104.304 0 108.48 0C114.703 0 116.158 3.27897 116.376 5.23384H113.656C113.252 3.90453 112.444 2.1686 108.403 2.1686C105.657 2.1686 103.874 3.11737 103.874 5.04096C103.874 6.61528 104.657 7.61618 109.019 8.346C115.915 9.53977 117.018 11.6823 117.018 14.3618C117.018 17.427 114.594 20.0544 108.827 20.0544C103.491 20.0544 100.797 17.5886 100.155 14.0386H102.932V14.0438Z"
        fill="#FFD6A0" />
    </svg>
  </div>
  <main class="container" onscroll="test">
    <div class="header">
      <span class="header__title">{{eventName}}</span>
      <div class="ticket__subtitle--container">
        <span class="header__subtitle">{{eventLocation}}</span>
        <span class="header__subtitle">·</span>
        {{#isMoreThanOne}}
        <span class="header__subtitle">{{count}} Tickets</span>
        {{/isMoreThanOne}} {{^isMoreThanOne}}
        <span class="header__subtitle">1 Ticket</span>
        {{/isMoreThanOne}}
      </div>
      <div class="cta__container"><button onclick="redirectToZupass()" class="cta">Score: 0 <svg
            xmlns="http://www.w3.org/2000/svg" width="41" height="32" viewBox="0 0 41 32" fill="none">
            <path
              d="M39.8985 9.69016C39.8985 5.42073 36.4459 1.95996 32.1865 1.95996C29.0961 1.95996 26.4383 3.78611 25.2076 6.41626C23.7812 6.19747 22.293 6.07843 20.7611 6.07843C19.2292 6.07843 17.7802 6.19481 16.3703 6.40762C15.1383 3.78212 12.4825 1.95996 9.39539 1.95996C5.13599 1.95996 1.68335 5.42073 1.68335 9.69016C1.68335 11.2769 2.1617 12.7512 2.97975 13.9782C2.23203 15.2743 1.82268 16.6749 1.82268 18.1366C1.82268 24.7961 10.3017 30.1947 20.7604 30.1947C31.2192 30.1947 39.6982 24.7961 39.6982 18.1366C39.6982 16.6935 39.2988 15.3102 38.569 14.0274C39.4069 12.7905 39.8979 11.2975 39.8979 9.68949L39.8985 9.69016Z"
              fill="#74DB61" stroke="#154133" stroke-width="2" />
            <path
              d="M9.45699 11.1948C10.7167 11.1948 11.738 9.86595 11.738 8.22678C11.738 6.5876 10.7167 5.25879 9.45699 5.25879C8.19725 5.25879 7.17603 6.5876 7.17603 8.22678C7.17603 9.86595 8.19725 11.1948 9.45699 11.1948Z"
              fill="#154133" />
            <path
              d="M32.1245 11.1948C33.3842 11.1948 34.4054 9.86595 34.4054 8.22678C34.4054 6.5876 33.3842 5.25879 32.1245 5.25879C30.8647 5.25879 29.8435 6.5876 29.8435 8.22678C29.8435 9.86595 30.8647 11.1948 32.1245 11.1948Z"
              fill="#154133" />
            <path
              d="M9.19039 20.2213C10.4501 20.2213 11.4714 18.6094 11.4714 16.6209C11.4714 14.6325 10.4501 13.0205 9.19039 13.0205C7.93065 13.0205 6.90942 14.6325 6.90942 16.6209C6.90942 18.6094 7.93065 20.2213 9.19039 20.2213Z"
              fill="#F9C1D4" />
            <path
              d="M32.3916 20.2213C33.6513 20.2213 34.6725 18.6094 34.6725 16.6209C34.6725 14.6325 33.6513 13.0205 32.3916 13.0205C31.1318 13.0205 30.1106 14.6325 30.1106 16.6209C30.1106 18.6094 31.1318 20.2213 32.3916 20.2213Z"
              fill="#F9C1D4" />
            <path
              d="M20.7908 18.8751C17.9001 18.8751 15.5488 16.6925 15.5488 14.0098C15.5488 13.6068 15.8746 13.2803 16.2766 13.2803C16.6787 13.2803 17.0045 13.6068 17.0045 14.0098C17.0045 15.8878 18.7029 17.4154 20.7901 17.4154C22.8774 17.4154 24.5758 15.8878 24.5758 14.0098C24.5758 13.6068 24.9023 13.2803 25.3037 13.2803C25.705 13.2803 26.0315 13.6068 26.0315 14.0098C26.0315 16.6925 23.6802 18.8751 20.7895 18.8751H20.7908Z"
              fill="#154133" />
          </svg></button></div>
      <div class="ticket">
        <img class="ticket__qr-code" src="{{qr}}" />
        <div class="ticket__text-container">
          <span class="ticket__title">{{attendeeName}}</span>
          <div class="ticket__subtitle--container">
            <span class="ticket__subtitle--text">{{attendeeEmail}}</span>
            <span class="ticket__subtitle--text">·</span>
            <span class="ticket__subtitle--text">{{ticketName}}</span>
          </div>
        </div>
        {{#addonsCount}}
        <button id="addons-btn" type="button" class="ticket__addons-btn">
          {{#moreThanOneAddon}}
          <span class="ticket__subtitle--text" style="font-size: 16px;">View {{addonsCount}}
            add-on items</span>
          {{/moreThanOneAddon}}
          {{^moreThanOneAddon}}
          <span class="ticket__subtitle--text" style="font-size: 16px;">View add-on item</span>
          {{/moreThanOneAddon}}
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width: 20px;">
            <path d="M4.75 4.25a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1Z" />
            <path fill-rule="evenodd"
              d="M2 3.5A1.5 1.5 0 0 1 3.5 2H6a1.5 1.5 0 0 1 1.5 1.5V6A1.5 1.5 0 0 1 6 7.5H3.5A1.5 1.5 0 0 1 2 6V3.5Zm1.5 0H6V6H3.5V3.5Z"
              clip-rule="evenodd" />
            <path d="M4.25 11.25a.5.5 0 1 1 1 0 .5.5 0 0 1-1 0Z" />
            <path fill-rule="evenodd"
              d="M2 10a1.5 1.5 0 0 1 1.5-1.5H6A1.5 1.5 0 0 1 7.5 10v2.5A1.5 1.5 0 0 1 6 14H3.5A1.5 1.5 0 0 1 2 12.5V10Zm1.5 2.5V10H6v2.5H3.5Z"
              clip-rule="evenodd" />
            <path d="M11.25 4.25a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1Z" />
            <path fill-rule="evenodd"
              d="M10 2a1.5 1.5 0 0 0-1.5 1.5V6A1.5 1.5 0 0 0 10 7.5h2.5A1.5 1.5 0 0 0 14 6V3.5A1.5 1.5 0 0 0 12.5 2H10Zm2.5 1.5H10V6h2.5V3.5Z"
              clip-rule="evenodd" />
            <path
              d="M8.5 9.417a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM8.5 13.083a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM13.083 8.5a.917.917 0 1 0 0 1.833.917.917 0 0 0 0-1.833ZM12.166 13.084a.917.917 0 1 1 1.833 0 .917.917 0 0 1-1.833 0ZM11.25 10.333a.917.917 0 1 0 0 1.833.917.917 0 0 0 0-1.833Z" />
          </svg>
        </button>
        {{/addonsCount}}
        {{^addonsCount}}
        <!-- spacer when we dont have any addon -->
        <div style="height:16px;" />
        {{/addonsCount}}
      </div>
    </div>
  </main>

  <div id="modal-overlay" class="modal__overlay modal__overlay--disabled">
    <div id="modal-time"
      class="modal__container modal__container--hide modal__container--center time__modal--container ">
      <span class="time-modal__text">
        <span class="time-modal__text--frogcrypto">FROGCRYPTO</span>
        unlocks in</span>
      <span id="time-left" class="time-modal__text--time"></span>
      <button type="button" id="yes-btn" class="time-modal__btn--frogcrypto"><span class="time-modal__text"
          style="color: var(--white);">Yes</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="20"
          viewBox="0 0 41 32" fill="none">
          <path
            d="M39.8985 9.69016C39.8985 5.42073 36.4459 1.95996 32.1865 1.95996C29.0961 1.95996 26.4383 3.78611 25.2076 6.41626C23.7812 6.19747 22.293 6.07843 20.7611 6.07843C19.2292 6.07843 17.7802 6.19481 16.3703 6.40762C15.1383 3.78212 12.4825 1.95996 9.39539 1.95996C5.13599 1.95996 1.68335 5.42073 1.68335 9.69016C1.68335 11.2769 2.1617 12.7512 2.97975 13.9782C2.23203 15.2743 1.82268 16.6749 1.82268 18.1366C1.82268 24.7961 10.3017 30.1947 20.7604 30.1947C31.2192 30.1947 39.6982 24.7961 39.6982 18.1366C39.6982 16.6935 39.2988 15.3102 38.569 14.0274C39.4069 12.7905 39.8979 11.2975 39.8979 9.68949L39.8985 9.69016Z"
            fill="#74DB61" stroke="#154133" stroke-width="2" />
          <path
            d="M9.45699 11.1948C10.7167 11.1948 11.738 9.86595 11.738 8.22678C11.738 6.5876 10.7167 5.25879 9.45699 5.25879C8.19725 5.25879 7.17603 6.5876 7.17603 8.22678C7.17603 9.86595 8.19725 11.1948 9.45699 11.1948Z"
            fill="#154133" />
          <path
            d="M32.1245 11.1948C33.3842 11.1948 34.4054 9.86595 34.4054 8.22678C34.4054 6.5876 33.3842 5.25879 32.1245 5.25879C30.8647 5.25879 29.8435 6.5876 29.8435 8.22678C29.8435 9.86595 30.8647 11.1948 32.1245 11.1948Z"
            fill="#154133" />
          <path
            d="M9.19039 20.2213C10.4501 20.2213 11.4714 18.6094 11.4714 16.6209C11.4714 14.6325 10.4501 13.0205 9.19039 13.0205C7.93065 13.0205 6.90942 14.6325 6.90942 16.6209C6.90942 18.6094 7.93065 20.2213 9.19039 20.2213Z"
            fill="#F9C1D4" />
          <path
            d="M32.3916 20.2213C33.6513 20.2213 34.6725 18.6094 34.6725 16.6209C34.6725 14.6325 33.6513 13.0205 32.3916 13.0205C31.1318 13.0205 30.1106 14.6325 30.1106 16.6209C30.1106 18.6094 31.1318 20.2213 32.3916 20.2213Z"
            fill="#F9C1D4" />
          <path
            d="M20.7908 18.8751C17.9001 18.8751 15.5488 16.6925 15.5488 14.0098C15.5488 13.6068 15.8746 13.2803 16.2766 13.2803C16.6787 13.2803 17.0045 13.6068 17.0045 14.0098C17.0045 15.8878 18.7029 17.4154 20.7901 17.4154C22.8774 17.4154 24.5758 15.8878 24.5758 14.0098C24.5758 13.6068 24.9023 13.2803 25.3037 13.2803C25.705 13.2803 26.0315 13.6068 26.0315 14.0098C26.0315 16.6925 23.6802 18.8751 20.7895 18.8751H20.7908Z"
            fill="#154133" />
        </svg></button>
    </div>
    <div id="modal-addons" class="modal__container modal__container--hide">
      <div class="swiper-container">
        <div class="swiper-wrapper">
          {{#addons}}
          <div class="swiper-slide">
            <div class="modal__qr--container">
              <div class="modal__qr">
                <img class="modal__qr--image" src="{{image}}" />
              </div>
              <span class="modal__qr--text">{{name}}</span>
            </div>
          </div>
          {{/addons}}
        </div>
      </div>

      {{#moreThanOneAddon}}
      <div class="swiper__navigation--container">
        <button id="back" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M9.78 4.22a.75.75 0 0 1 0 1.06L7.06 8l2.72 2.72a.75.75 0 1 1-1.06 1.06L5.47 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.75.75 0 0 1 1.06 0Z"
              clip-rule="evenodd" />
          </svg>
        </button>
        <span class="swiper__navigation--text"><span id="current-item-text">1</span> of {{addonsCount}}</span>
        <button id="next" type="button" class="swiper__navigation--btn">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="var(--text-tertiary)" class="size-4"
            style="width:24px; height: 24px;">
            <path fill-rule="evenodd"
              d="M6.22 4.22a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06l-3.25 3.25a.75.75 0 0 1-1.06-1.06L8.94 8 6.22 5.28a.75.75 0 0 1 0-1.06Z"
              clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      {{/moreThanOneAddon}}
      <button type="button" id="close" class="btn__container--primary"><span
          class="btn__text--primary">Close</span></button>
    </div>
  </div>
  </div>
  <!-- Tiny-Swiper JS -->
  <script src="https://unpkg.com/tiny-swiper@latest/lib/index.min.js"></script>
  <script src="https://unpkg.com/tiny-swiper@latest/lib/modules/navigation.min.js"></script>

  <script>
    const addonsModal = document.getElementById("modal-addons");
    const timeModal = document.getElementById("modal-time");
    const overlay = document.getElementById("modal-overlay");
    const closeBtn = document.getElementById("close");
    const addonsBtn = document.getElementById("addons-btn");
    const nextBtn = document.getElementById("next");
    const backBtn = document.getElementById("back");
    const yesBtn = document.getElementById("yes-btn");
    const currentIdxText = document.getElementById("current-item-text");
    const timeLeftText = document.getElementById("time-left");

    let interval;

    const path = window.location.pathname;
    const oneClickMatch = path.match(/\/one-click-preview.*/);
    const newPath = oneClickMatch ? oneClickMatch[0] : "";

    function joinPaths(...parts) {
      return parts
        .map((part) => part.replace(/^\/+|\/+$/g, "")) // Remove leading/trailing slashes
        .filter((part) => part.length > 0) // Remove empty segments
        .join("/");
    }

    function timeToStartDate() {
      const startDate = new Date("{{startDate}}");

      const gap = Math.abs(Date.now() - startDate.getTime());
      let seconds = Math.floor(gap / 1000);
      const days = Math.floor(seconds / (24 * 3600));
      seconds %= 24 * 3600;
      const hours = Math.floor(seconds / 3600);
      seconds %= 3600;
      const minutes = Math.floor(seconds / 60);
      seconds %= 60;
      // Format the time string without spans
      return `${days}d:${hours}h:${minutes}m:${seconds}s`;
    }

    function redirectToZupass() {
      const maybeDate = Date.parse("{{startDate}}");
      if (isNaN(maybeDate)) {
        console.log(maybeDate)
        window.location.replace(clientPath);
      }
      else {
        timeLeftText.innerText = timeToStartDate();
        overlay.classList.remove("modal__overlay--disabled");
        timeModal.classList.remove("modal__container--hide");

        interval = setInterval(function () {
          timeLeftText.innerText = timeToStartDate();
        }, 500)
      }
    }

    const clientPath = joinPaths("{{{zupassUrl}}}", "#", newPath);

    addonsModal.onclick = function (e) {
      e.stopPropagation();
    }
    timeModal.onclick = function (e) {
      e.stopPropagation();
    }


    yesBtn.onclick = function () {
      overlay.classList.add("modal__overlay--disabled");
      addonsModal.classList.add("modal__container--hide");
      timeModal.classList.add("modal__container--hide");
      clearInterval(interval);
    }
    overlay.onclick = function () {
      overlay.classList.add("modal__overlay--disabled");
      addonsModal.classList.add("modal__container--hide");
      timeModal.classList.add("modal__container--hide");
      clearInterval(interval);
    }

    closeBtn.onclick = function () {
      overlay.classList.add("modal__overlay--disabled");
      addonsModal.classList.add("modal__container--hide");
    }
    addonsBtn.onclick = function () {
      overlay.classList.remove("modal__overlay--disabled");
      addonsModal.classList.remove("modal__container--hide");
      const swiper = new Swiper(".swiper-container", {
        spaceBetween: 12,
        navigation: {
          prevEl: backBtn,
          nextEl: nextBtn,
          disabledClass: "swiper__navigation--btn-disabled"
        },
        plugins: [SwiperPluginNavigation]
      });
      swiper.on("after-slide", function (newIdx, state) {
        currentIdxText.innerText = newIdx + 1;
      })
    }



  </script>
</body>

</html>
